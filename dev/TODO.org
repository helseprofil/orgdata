#+TITLE: TODO list
** R functions
*** DONE Input in =find_column_multi_input=
The loop refers to the variable with =NA=. Should use =seq_len(length(inVar))=.
*** DONE Seperate with whitespace
Check if =is_separate= works correctly when there is whitespace eg. ~3 = AGE~.
*** HOLD Error for MANHEADER
This is not relevant after update input style
Should give error message when MANHEADER isn't balance eg. ~3,5=AGE~
*** DONE MANHEADER input style
Should use the same style as in ADDKOL when there are more then one columns ie.
~5=EDU,6=GEO~ instead of ~5,6=EDU,GEO~
*** DONE Read files
All files must be standardized to =data.table= class before merging.
*** DONE Use =verbose=
Implement in options ~verbose=FALSE~ for log and processes
*** DONE Close connection
=KHelse$db_close()= when =read_raw()= ends
*** DONE =csv= output
Use argument ~csv=TRUE~ in =read_raw=. File output should not be dated
*** DONE Debuging
Function =is_debug()= for debugging with =options("orgdata.debug")=
*** TODO Log
Consider R6 class.
- Process
  + Get info from table =tbl_Kode=
  + Compare oldvar agaist newvar
- public fields:
  + koblid
  + lesid
  + dt
  + group
  + variable
  + oldvar
  + newvar
  + freq
  + status
- public methods:
  + aggregate()
  + is_equal()

*** TODO tryCatch
Use =tryCatch= in loop files for error message
*** DONE Process files
Make seperate function =is_org_process=
*** TODO Recoded variables
Make function ~check_code(x=all)~ eg. ~check_code(x=landbak)~ only check recoded value for =landbak=.
*** NEXT Recode common variable
- Use group =ALL= to recode variables that are applicable to all groups. But it
should be deactivated if specification for the same columns is found in the
specific FILGRUPPE
- Let LESID empty or missing if common recoding values are within the group.
  This is weighted more than the =ALL= option.
*** DONE lesfil
arg for =file= needs more info ie. either FILID or "full path"
*** DONE .fhi extention
SSB uses extention =.fhi= for a =.csv= files. Need to add in =find_data=.
*** TODO Keep columns as string
When reading raw data, columns with digits converted to int. Problem happens
with splitted geocodes such as file =.fhi= from SSB. When merging then the
leading zero is missing.
*** TODO Implicit NULL
Create category that are missing due to NULL based on the standard categories of the whole period. Steps:
- Find the valid categories eg. age or educations levels for the whole period eg. 2016 to 2021
- Create the reference categories from this
- Find if any of the specific period has missing categories of the reference categories
- Create the new missing category with value 0 and and geo 99999999
*** DONE TABS and VALS
- None standards columns in =tbl_innlesing= that needs to be included to output
  table. These columns will again be renamed in =tbl_Filgruppe=.
*** DONE ADDKOL
- Should read ~TAB1=DIAGNOSE, TAB2=ANTROB~ instead of ~TAB1, TAB2 = DIAGNOSE, ANTROB~ in the current style.
*** DONE ADDVAL
- Need example file to implement this column and what it's for
*** DONE LESID changed
- LESID is not unique. It should be combined with FILGRUPPE to make it a unique ID
** Access DB
*** DONE Warning duplicate filename
Give warning when filename is duplicated in Access register database under =tbl_Orgfile=
*** DONE Access original files
Should be a table with files id and dates can be deactivated at once. Steps:
- Relationship should be 1 in tbl_Orgfile to many in tbl_Koble
- Update query for koblid and filename
- Update sub_frm_qrKoble in frm_Overview
*** DONE Add TABS and VAL
- Use VALS 1 to 3 for value columns or columns that have quantity
- Use TABS 1 to 3 for category variable that aren't standard columns.
*** DONE raw-khelse_FE.accdb
- Edited version for Frontend. Replace standard =raw-khelse.accdb=
