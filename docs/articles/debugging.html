<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="orgdata">
<title>How to debug â€¢ orgdata</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="How to debug">
<meta property="og:description" content="orgdata">
<meta property="og:image" content="https://helseprofil.github.io/orgdata/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">orgdata</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.3.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/get-started.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Functions</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/geo-recode.html">Recode and map geo</a>
    <a class="dropdown-item" href="../articles/debugging.html">Debugging</a>
    <a class="dropdown-item" href="../articles/standard.html">Make standard</a>
    <a class="dropdown-item" href="../articles/sepaafil.html">SePaaFil</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/helseprofil/orgdata/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>How to debug</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/helseprofil/orgdata/blob/HEAD/vignettes/debugging.Rmd" class="external-link"><code>vignettes/debugging.Rmd</code></a></small>
      <div class="d-none name"><code>debugging.Rmd</code></div>
    </div>

    
    
<p>Debugging can be done via specification in <code><a href="https://rdrr.io/r/base/options.html" class="external-link">options()</a></code> or
a wrapper <code><a href="../reference/debug_opt.html">debug_opt()</a></code>. To check all the <em>options</em>
available for <code>orgdata</code> use
<code>orgdata:::opt.orgdata</code>. Debugging options include:</p>
<ul>
<li><code>orgdata.debug</code></li>
<li><code>orgdata.debug.nrow</code></li>
<li><code>orgdata.debug.row</code></li>
<li><code>orgdata.debug.aggregate</code></li>
<li><code>orgdata.debug.geo</code></li>
</ul>
<p>Warning will be given when debugging is active.</p>
<div class="float">
<img src="debug-geo.png" alt="debug-warning"><div class="figcaption">debug-warning</div>
</div>
<div class="section level2">
<h2 id="process">process<a class="anchor" aria-label="anchor" href="#process"></a>
</h2>
<p>This is used to display the process flow when running any functions
in <code>orgdata</code>. It is useful to know which process creates
problems during troubleshoot. Options <code>shallow</code> and
<code>deep</code> are used to decide the levels of functions to be shown
during the process flow. Selecting <code>shallow</code> is equal to
<code>TRUE</code> while <code>deep</code> will show the helper functions
as well. To activate:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>orgdata.debug <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co"># OR</span></span>
<span><span class="fu"><a href="../reference/debug_opt.html">debug_opt</a></span><span class="op">(</span><span class="st">"shallow"</span><span class="op">)</span></span>
<span><span class="co"># OR</span></span>
<span><span class="fu"><a href="../reference/debug_opt.html">debug_opt</a></span><span class="op">(</span><span class="st">"deep"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="nrow">nrow<a class="anchor" aria-label="anchor" href="#nrow"></a>
</h2>
<p>To make testing faster for a very big file, you can load only some
rows by activating this options. For instance, to load only the first 50
rows use:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>orgdata.debug.nrow <span class="op">=</span> <span class="fl">50</span><span class="op">)</span></span>
<span><span class="co"># OR</span></span>
<span><span class="fu"><a href="../reference/debug_opt.html">debug_opt</a></span><span class="op">(</span><span class="st">"nrow"</span>, <span class="fl">50</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="row">row<a class="anchor" aria-label="anchor" href="#row"></a>
</h2>
<p>To select only specific row(s) for further processing. This is very
useful especially when activating <a href="#geo"><code>orgdata.debug.geo</code></a> option. To select only
rows 20 to 50:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>orgdata.debug.row <span class="op">=</span> <span class="fl">20</span><span class="op">:</span><span class="fl">50</span><span class="op">)</span></span>
<span><span class="co"># OR</span></span>
<span><span class="fu"><a href="../reference/debug_opt.html">debug_opt</a></span><span class="op">(</span><span class="st">"row"</span>, <span class="fl">20</span><span class="op">:</span><span class="fl">50</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="aggregate">aggregate<a class="anchor" aria-label="anchor" href="#aggregate"></a>
</h2>
<p>To check how the geographical codes in the original data will or
could be aggregated to. For instance the original data that consist of
enumeration area codes can be aggregated to municipality or county.
Activating this options will add the columns of origin geographical
codes and the codes to aggregate into municipality, county, city etc to
the output data.</p>
<p>The difference between this options and <code>aggreagate</code>
argument in <code><a href="../reference/make_file.html">make_file()</a></code> is that the argument
<code>aggregate = FALSE</code> will cease aggregating after recoding
geographical codes in the original data. To use:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>orgdata.debug.aggregate <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co"># OR</span></span>
<span><span class="fu"><a href="../reference/debug_opt.html">debug_opt</a></span><span class="op">(</span><span class="st">"aggregate"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="geo">geo<a class="anchor" aria-label="anchor" href="#geo"></a>
</h2>
<p>This option is used to check the code to use for recoding
geographical codes from the original data to the current geographical
codes. A new columns called <code>oriGEO</code> will be added consisting
the geographical codes of the original data as in the <a href="#expl">example</a>.</p>
<p>Column <code>GEO</code> is the code to recode <code>oriGEO</code>. If
the value is <code>NA</code> in column <code>GEO</code> then no recode
will be done for the respective code. The reason is either the codes is
still valid for the current year or no recode code available/valid and
will be deleted. A warning will be given.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>orgdata.debug.geo <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co"># OR</span></span>
<span><span class="fu"><a href="../reference/debug_opt.html">debug_opt</a></span><span class="op">(</span><span class="st">"geo"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="reset">reset<a class="anchor" aria-label="anchor" href="#reset"></a>
</h2>
<p>When activating any options for <code>orgdata</code>, it will be kept
active until you actively deactivate it or restart a new R session. You
can deactivate it with:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/reset_options.html">reset_opt</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="expl">Example output<a class="anchor" aria-label="anchor" href="#expl"></a>
</h2>
<p>Here is an example of output after activating
<code>orgdata.debug.geo</code></p>
<pre><code>          oriGEO      GEO  AAR KJONN UTDANN TAB1 TAB2 TAB3 TAB4   ANDRE   ANNEN
     1:  1010102 30010102 2019     0     01    2    8    1    1       1       2
     2:  1010102 30010102 2019     0     01    2    5    1    1       1       3
     3:  1010102 30010102 2019     0     01    1    8    1    1       1       3
     4:  1010102 30010102 2019     0     01    3    8    1    1       3       3
     5:  1010102 30010102 2019     0     02    3    8    2    2      20      20
    ---                                                                        
326790: 50610108       NA 2019     2     02    2    5    1    2      20      20
326791: 50610108       NA 2019     2     02    3    5    1    2      20      20
326792: 50610108       NA 2019     2     02    4    8    1    1      20      20
326793: 50610110       NA 2019     0     03    4    8    1    1      20      20
326794: 50610110       NA 2019     1     03    4    8    1    1      20      20
 </code></pre>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by <a href="https://www.fhi.no/en/about/departments-and-centres/health-and-inequality/yusman-bin-kamaleri/" class="external-link">Yusman Kamaleri</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
