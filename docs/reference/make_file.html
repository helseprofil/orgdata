<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Implement the Specifications for Raw Files — make_file • orgdata</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Implement the Specifications for Raw Files — make_file"><meta name="description" content="Make a csv file with the specifications in the Access register
database and implement them to the raw data of the selected group of files
ie. (filgruppe). All files under the selected group will be affected
unless the KOBLID with argument koblid is specified or
select argument is used. Specifying koblid or select
is useful especially for testing purposes.
This function is the most used function in KHelse for processing
raw data. The function lag_fil() is an alias to make_file()."><meta property="og:description" content="Make a csv file with the specifications in the Access register
database and implement them to the raw data of the selected group of files
ie. (filgruppe). All files under the selected group will be affected
unless the KOBLID with argument koblid is specified or
select argument is used. Specifying koblid or select
is useful especially for testing purposes.
This function is the most used function in KHelse for processing
raw data. The function lag_fil() is an alias to make_file()."><meta property="og:image" content="https://helseprofil.github.io/orgdata/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">orgdata</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.5.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/get-started.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Functions</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/geo-recode.html">Recode and map geo</a></li>
    <li><a class="dropdown-item" href="../articles/debugging.html">Debugging</a></li>
    <li><a class="dropdown-item" href="../articles/standard.html">Make standard</a></li>
    <li><a class="dropdown-item" href="../articles/sepaafil.html">SePaaFil</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/helseprofil/orgdata/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Implement the Specifications for Raw Files</h1>
      <small class="dont-index">Source: <a href="https://github.com/helseprofil/orgdata/blob/HEAD/R/make-file.R" class="external-link"><code>R/make-file.R</code></a></small>
      <div class="d-none name"><code>make_file.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Make a <code>csv</code> file with the specifications in the Access register
database and implement them to the raw data of the selected group of files
ie. (<em>filgruppe</em>). All files under the selected group will be affected
unless the <code>KOBLID</code> with argument <code>koblid</code> is specified or
<code>select</code> argument is used. Specifying <code>koblid</code> or <code>select</code>
is useful especially for testing purposes.</p>
<p>This function is the most used function in KHelse for processing
raw data. The function <code>lag_fil()</code> is an alias to <code>make_file()</code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">make_file</span><span class="op">(</span></span>
<span>  group <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  koblid <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  aggregate <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  save <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  year.geo <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  implicitnull <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  row <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  base <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  parallel <span class="op">=</span> <span class="fu">deprecated</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  raw <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  select <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">lag_fil</span><span class="op">(</span></span>
<span>  group <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  koblid <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  aggregate <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  save <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  year.geo <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  implicitnull <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  row <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  base <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  parallel <span class="op">=</span> <span class="fu">deprecated</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  raw <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  select <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">mf</span><span class="op">(</span></span>
<span>  group <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  koblid <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  aggregate <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  save <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  year.geo <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  implicitnull <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  row <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  base <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  parallel <span class="op">=</span> <span class="fu">deprecated</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  raw <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  select <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-group">group<a class="anchor" aria-label="anchor" href="#arg-group"></a></dt>
<dd><p>The name of filegroup as specified in <em>filgruppe</em></p></dd>


<dt id="arg-koblid">koblid<a class="anchor" aria-label="anchor" href="#arg-koblid"></a></dt>
<dd><p><code>KOBLID</code> from table <em>tbl_Koble</em></p></dd>


<dt id="arg-aggregate">aggregate<a class="anchor" aria-label="anchor" href="#arg-aggregate"></a></dt>
<dd><p>Logical value. Default is <code>TRUE</code>. Aggregate data according
to the specification in registration database. Global options with
<code>orgdata.aggregate</code>.</p></dd>


<dt id="arg-save">save<a class="anchor" aria-label="anchor" href="#arg-save"></a></dt>
<dd><p>Logical value. Default is <code>FALSE</code>. To save as <code>.csv</code> format file
by activating <code><a href="save_file.html">save_file()</a></code> function.</p></dd>


<dt id="arg-year-geo">year.geo<a class="anchor" aria-label="anchor" href="#arg-year-geo"></a></dt>
<dd><p>Which reference year to use for geograhical coding. If it is
missing then global option for <code>orgdata.year</code> will be used.</p></dd>


<dt id="arg-implicitnull">implicitnull<a class="anchor" aria-label="anchor" href="#arg-implicitnull"></a></dt>
<dd><p>Logical value. Default is <code>TRUE</code> to add implicit null to
the dataset. Global options with <code>orgdata.implicit.null</code>.</p></dd>


<dt id="arg-row">row<a class="anchor" aria-label="anchor" href="#arg-row"></a></dt>
<dd><p>Select specific row(s) numbers only. Useful for debugging. Please
read <a href="https://helseprofil.github.io/orgdata/articles/debugging.html">Debugging</a> article for detail.</p></dd>


<dt id="arg-base">base<a class="anchor" aria-label="anchor" href="#arg-base"></a></dt>
<dd><p>Logical value. If <code>TRUE</code> then use year in the original data as the base
year to recode the geographical codes. Default is <code>FALSE</code> and use all
available codes in geo codebook</p></dd>


<dt id="arg-parallel">parallel<a class="anchor" aria-label="anchor" href="#arg-parallel"></a></dt>
<dd><p>Logical or numeric value. With logical value <code>TRUE</code> it will
run with parallel using 50% ie. 0.5 of local cores. User can decide other
percentage if needed. For example to use 75% of the cores then specify as
<code>parallel = 0.75</code>. Nevertheless, maximum cores allowed is only 80%. Default
value is <code>FALSE</code> ie. to use sequential processing</p></dd>


<dt id="arg-raw">raw<a class="anchor" aria-label="anchor" href="#arg-raw"></a></dt>
<dd><p>Logical value. Default is <code>FALSE</code> as in config. If <code>TRUE</code> then
read original raw data directly from source file even if the dataset is
already available in DuckDB without the need to unmark <code>KONTROLLERT</code> in the
Access database</p></dd>


<dt id="arg-select">select<a class="anchor" aria-label="anchor" href="#arg-select"></a></dt>
<dd><p>Select number of valid files to process as an alternative to
using <code>KOBLID</code>. To select the first 5 files then write <code>select=1:5</code>. Use
<code>select="last"</code> to select the last or most recent file.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other filegroups functions:
<code><a href="make_filegroups.html">make_filegroups</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="va">dt</span> <span class="op">&lt;-</span> <span class="fu">make_file</span><span class="op">(</span><span class="st">"ENPERSON"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dt</span> <span class="op">&lt;-</span> <span class="fu">make_file</span><span class="op">(</span><span class="st">"ENPERSON"</span>, raw <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="co">#Skip DuckDB and read directly from original files</span></span></span>
<span class="r-in"><span><span class="va">dt</span> <span class="op">&lt;-</span> <span class="fu">make_file</span><span class="op">(</span><span class="st">"ENPERSON"</span>, koblid <span class="op">=</span> <span class="fl">120</span><span class="op">:</span><span class="fl">125</span><span class="op">)</span> <span class="co">#Select specific files only</span></span></span>
<span class="r-in"><span><span class="va">dt</span> <span class="op">&lt;-</span> <span class="fu">make_file</span><span class="op">(</span><span class="st">"ENPERSON"</span>, select <span class="op">=</span> <span class="st">"last"</span><span class="op">)</span> <span class="co">#Select most recent file</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Vegard Lysne, <a href="https://www.fhi.no/en/about/departments-and-centres/health-and-inequality/yusman-bin-kamaleri/" class="external-link">Yusman Kamaleri</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

